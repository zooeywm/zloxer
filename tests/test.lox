fun stressTest(name, limit) {
  print "=== stressTest begin ===";
  print "name: " + name;
  print "limit: " + limit;

  var counter = 0;
  var sum = 0;
  var last = nil;

  {
    var counter = 100;
    print "shadowed counter (outer block): " + counter;

    {
      var counter = 200;
      print "shadowed counter (inner block): " + counter;
    }

    print "counter after inner block: " + counter;
  }

  print "counter after blocks: " + counter;

  // while + if + break
  while (counter < limit) {
    sum = sum + counter;

    if (counter > limit / 2) {
      print "halfway reached at: " + counter;
    }

    last = counter;
    counter = counter + 1;

    if (counter > limit + 2) {
      break;
    }
  }

  print "loop finished";
  print "sum: " + sum;
  print "last value: " + last;

  var outer = 0;
  for (var i = 0; i < 3; i = i + 1) {
    print "for i = " + i;

    var inner = 0;
    while (inner < 2) {
      print "  inner = " + inner;
      outer = outer + 1;
      inner = inner + 1;
    }
  }

  print "outer count: " + outer;

  if (sum > 50) {
    print "sum is large";
  } else {
    print "sum is small";
  }

  print "=== stressTest end ===";
}

stressTest("TestRun", 8);

fun multiParamFunction(a, b, c, d, e) {

}

print stressTest;
print multiParamFunction;

fun fib(n) {
  if (n <= 1) return n;
  return fib(n - 2) + fib(n - 1);
}

var start = clock();
for (var i = 0; i < 20; i = i + 1) {
  fib(i);
}
var elapsed = clock() - start;
print elapsed * 1000 + "ms";
